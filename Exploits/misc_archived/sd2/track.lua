--creepy script i made to follow around a player and heal them

local skip = {'FireServer','Kick'}
local choose = "kangaroom_lester"
local function nothing() return end
local placeholder = {CFrame = CFrame.new(0,0,0), Velocity = Vector3.zero}
local lp = game.Players.LocalPlayer
local mouse = lp.GetMouse(lp)
if not _G.old then
    _G.old = hookmetamethod(game, '__namecall', newcclosure(function(self, ...)
        local script, method = getcallingscript(), getnamecallmethod()
        if not checkcaller() and script.Name == '...' and table.find(skip,method) then
            return nothing()
        end
        return _G.old(self, ...)
    end))
end
if not _G.old2 then
    _G.old2 = hookmetamethod(mouse, '__index', newcclosure(function(self, index)
        local scr = getcallingscript()
        local part = _G.lastpos
        if index == 'Hit' and scr and scr.Parent.Name == 'Healing Staff' and part then
            local result = part.CFrame + part.Velocity*Vector3.new(1,0,1)
            return result
        end
        return _G.old2(self, index)
    end))
end




local plr = game.Players:WaitForChild(choose, 300)
local function disconnect(char)
    char.ChildAdded:Connect(function(v)
        if v.Name == 'CharacterMesh' or v.Name == 'Shirt' then task.wait() v.Destroy(v) elseif  v:IsA"BasePart" then v.CanTouch = false end
    end)
    local torso, hum = char.WaitForChild(char, 'Torso', 5), char.WaitForChild(char, 'Humanoid')
    if not arm and attach then return end
    --if lp.Backpack.FindFirstChild(lp.Backpack, 'Gravity Coil') then lp.Backpack['Gravity Coil'].Parent = char end
    
    char:WaitForChild("Head"):WaitForChild("Mesh"):Destroy()
    char:WaitForChild"Animate".Disabled = true
    char.Head.CanCollide = false
    torso:WaitForChild"Left Shoulder":Destroy()
    torso:WaitForChild"Right Hip":Destroy()
    torso:WaitForChild"Left Hip":Destroy()
    local hrp = char:WaitForChild"HumanoidRootPart"
    
    local gear = lp.Backpack:WaitForChild"Healing Staff"
    gear:WaitForChild"Handle":WaitForChild"Mesh":Destroy()
    local env = getsenv(gear:WaitForChild"LocalScript")
    env.SetAnimation = function() return end
    
    gear.GripForward = Vector3.new(0,0,1)
    gear.GripPos = Vector3.new(0,-2.5,-1.5)
    gear.GripRight = Vector3.new(0,0,-1)
    gear.GripUp = Vector3.new(1)
    task.wait()
    gear.Parent = char
    local con
    
    _G.lastpos = nil
    
    local con2
    local t = tick()
    local activate = gear.Activate
    
    con = game.RunService.RenderStepped.Connect(game.RunService.RenderStepped,function()
        if not char.Parent then con.Disconnect(con) return elseif not (plr.Character and plr.Character:FindFirstChild( "HumanoidRootPart")) then _G.lastpos = nil return end
        _G.lastpos = plr.Character.HumanoidRootPart
        torso.CanCollide = false
        hum.PlatformStand = true
        hrp.CFrame = CFrame.lookAt(bait and Vector3.new(0,-25,0) or _G.lastpos.CFrame.p + _G.lastpos.CFrame.RightVector*10 + Vector3.new(0,10,0), _G.lastpos.CFrame.p)
        hrp.Velocity = Vector3.zero
        if tick() - t >= 0.1 then activate(gear) t = tick() end
    end)
end

if _G.char then _G.char:Disconnect() end
_G.char = lp.CharacterAdded:Connect(disconnect)
if _G.chatmove then _G.chatmove:Disconnect() end
local commands = {}
commands.h = function() bait = false end
commands.b = function() bait = true end
commands.ta = function()
    local rp = lp.Character and lp.Character:FindFirstChild"HumanoidRootPart"
    if not rp then return end
    for i,v in pairs(workspace:GetDescendants()) do
        if v:IsA"BasePart" and v:FindFirstChildWhichIsA"TouchTransmitter" then
            firetouchinterest(v,rp, 0)
            firetouchinterest(v,rp,1)
        end
    end
end
_G.chatmove = game.ReplicatedStorage.DefaultChatSystemChatEvents.OnMessageDoneFiltering.OnClientEvent:Connect(function(...)
    local results = {...}
    if results[1].FromSpeaker == choose then
        if commands[results[1].Message] then commands[results[1].Message]() end
    end
end)
--if lp.Character then disconnect(lp.Character) end