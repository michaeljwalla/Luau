local ui = game.Players.LocalPlayer.PlayerGui:FindFirstChild("MapVoteGui")

while ui.Parent == game.Players.LocalPlayer.PlayerGui do
    task.wait()
    if ui.Parent ~= game.Players.LocalPlayer.PlayerGui then return end
    local maps = {}
    for i,v in pairs(ui.Frame.Backdrop:GetChildren()) do
        if ui.Parent ~= game.Players.LocalPlayer.PlayerGui then return end
        if v:IsA("ImageButton") then
            if ui.Parent ~= game.Players.LocalPlayer.PlayerGui then return end
            game.ReplicatedStorage.Remotes.VoteMap:FireServer(v.Name)
        end
    end
end