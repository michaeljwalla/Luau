--exploit during the halloween update to heal a player of choice constantly (op for paci)

if _G.bucketspam then _G.bucketspam:Disconnect() end
if _G.candytouch then _G.candytouch:Disconnect() end
local who = '131'
--if who ~= 'any' then
    for i,v in pairs(game.Players:GetPlayers()) do if v.Name:lower():find(who:lower()) == 1 then who = v break end end
--end
function buykit(e)
	game:GetService("ReplicatedStorage").Remotes.BuyItem:FireServer(e)
	wait()
end
local lp = game.Players.LocalPlayer
local function equip()
    if not lp.Character then return end
    local gear = lp.Character:FindFirstChild"Pumpkin Bucket" or lp.Backpack:FindFirstChild"Pumpkin Bucket"
    if not gear then return end
    gear.Parent = lp.Character
    return gear
end
local enabled, norun


me = game:GetService"UserInputService".InputBegan:Connect(function(key, focused)
    if not focused and key.KeyCode == Enum.KeyCode.Y then
        enabled = not enabled
        while me.Connected and enabled and task.wait(0.05) and enabled do
            local part = equip()
            if not part then buykit(1) part = lp.Backpack:WaitForChild"Pumpkin Bucket" end
            part.Parent = lp.Character
            part:Activate()
            task.wait()
            buykit(1)
            buykit(1)
        end
    end
end)

_G.bucketspam = me
local function touch(part, w)
    w = w or who
    if not who.Character then return end
    firetouchinterest(who.Character.HumanoidRootPart, part, 0)
    firetouchinterest(who.Character.HumanoidRootPart, part, 1)
end
_G.candytouch = workspace.ChildAdded:Connect(function(v)
    if v.Name:find("Candy_") then
        local t= tick()
        while v:IsDescendantOf(workspace) and not isnetworkowner(v) do wait() end
        if who ~= 'any' then touch(v) return end
        if true then return end
        while v:IsDescendantOf(game) do
            wait()
            for x,a in pairs(game.Players:GetPlayers()) do
                local hum = a.Character and a.Character:FindFirstChild"Humanoid"
                if not hum or (hum and hum.Health == hum.MaxHealth) then continue end
                while hum:IsDescendantOf(game) and hum.Health ~= hum.MaxHealth do
                    wait()
                    touch(v,a)
                end
            end
        end
    end
end)
who = game.Players:WaitForChild("pg3d_edatr", 300)
print(choice)
task.spawn(function()
    while game.RunService.RenderStepped:Wait() do
        pcall(function() 
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(0,-50,0)
            game.Players.LocalPlayer.Character.HumanoidRootPart.Velocity = Vector3.zero
        end)
    end
end)
local debounce
while task.wait(0.2) do
    local x = who.Character and who.Character:FindFirstChild("Humanoid")
    if not (x and x.Health < x.MaxHealth) then continue end
    pcall(function()
        local part = equip()
        if not part then buykit(1) part = lp.Backpack:WaitForChild"Pumpkin Bucket" end
        part.Parent = lp.Character
        part:Activate()
        task.wait(0.1)
        buykit(1)
        buykit(1)
    end)
end
