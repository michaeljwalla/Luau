if game.Workspace:FindFirstChild("Morbin mode") then game.Workspace["Morbin mode"]:Destroy() end
if _G.free then for i,v in pairs(_G.free) do v:Disconnect() end end
_G.free = {} --re execute while unloading old script
local lp = game.Players.LocalPlayer
local mouse = lp:GetMouse()
local stars, sword, sit
local magnitude = 5
local atkorb = Instance.new("Part", game.Workspace)
atkorb.CanCollide = false
atkorb.Anchored = true
atkorb.Size = Vector3.new(magnitude*2,magnitude*2,magnitude*2)
atkorb.Name = "Morbin mode"
atkorb.Material = "ForceField"
atkorb.Transparency = 0.5
atkorb.CastShadow = false
local mesh = Instance.new("SpecialMesh", atkorb)
mesh.MeshType = Enum.MeshType.Sphere
if game.CoreGui:FindFirstChild("blox") then game.CoreGui.blox:Destroy() end
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "blox"
local menu = Instance.new("Frame", gui)
menu.BackgroundTransparency = 1
menu.Size = UDim2.new(1,0,1,0)
local startoggle = Instance.new("TextButton", menu)
startoggle.BackgroundColor3 = Color3.new(0.333333, 0.333333, 0.333333)
startoggle.Position = UDim2.new(1,-150,1,-100)
startoggle.Size = UDim2.new(0, 150, 0, 25)
startoggle.Font = Enum.Font.SourceSans
startoggle.Text = string.format("Gold Stars: %s", stars and "ON" or "OFF")
startoggle.TextColor3 = Color3.new(1, 1, 1)
startoggle.TextScaled = true
startoggle.TextWrapped = true
local darktoggle = startoggle:Clone()
darktoggle.Parent = menu
darktoggle.Position -= UDim2.new(0,0,0,25)
darktoggle.Text = string.format("Darkheart: %s", sword and "ON" or "OFF")
local sittoggle = darktoggle:Clone()
--sittoggle.Parent = menu
sittoggle.Position -= UDim2.new(0,0,0,25)

local magchange = Instance.new("TextBox", menu)
magchange.PlaceholderText = string.format("Magnitude: %d", magnitude)
magchange.Position = sittoggle.Position
magchange.BackgroundColor3 = Color3.new(0.333333, 0.333333, 0.333333)
magchange.Size = UDim2.new(0, 150, 0, 25)
magchange.Font = Enum.Font.SourceSans
magchange.TextColor3 = Color3.new(1, 1, 1)
magchange.TextScaled = true
magchange.TextWrapped = true
magchange.Text = ""
magchange.FocusLost:Connect(function()
	if not tonumber(magchange.Text) then
		magnitude = 5
	else do 
		magnitude = (math.abs(math.floor(magchange.Text)) <= 5000 and math.abs(math.floor(magchange.Text))) or 5000
		
	end
	end
	magchange.PlaceholderText = string.format("Magnitude: %d", magnitude)
	magchange.Text = ""
end)
function ffa(where)
	if not self or not typeof(where) == "Instance" then where = workspace.Disaster end
	local pap = {}
	for i,v in pairs(where:GetDescendants()) do
		if v:IsA("Humanoid") and v.Health > 0 and not v.Parent:FindFirstChildWhichIsA("ForceField") then
			table.insert(pap, v.Parent:FindFirstChild"Head" or v.Parent:FindFirstChildWhichIsA("BasePart"))
		end
	end
	if #pap < 1 then return false end
	local leastmag = {Parent = nil, Mag = math.huge}
	for i,v in pairs(pap) do
		local mag = (lp.Character.HumanoidRootPart.Position - v.Position).Magnitude
		if mag < leastmag.Mag then
			leastmag = {Parent = v.Parent, Mag = mag}
		end
	end
	return leastmag.Parent
end
function goldstars(v)
    if not stars then return end
    if v:IsA("Part") and v.Size == Vector3.new(1.2,0.2,1.2) then --havent once seen > 6, but 10 in case of lag
        if ((lp.Character.HumanoidRootPart.Position - v.Position).Magnitude) > 50 then return end
        local p = tick()
        local target = ffa()
        pcall(function() if target then v.Anchored = true wait(0.5) v.CFrame = (target:FindFirstChild("Torso") or target:FindFirstChild("Head") or target:FindFirstChildWhichIsA("BasePart")).CFrame v.Velocity = Vector3.new(0,0,0) v.Anchored = false end end)
    end
end
function attack(tool)
    if not sword then return end
    if not tool then return end
	for i,v in pairs(game.Workspace.ActiveDisasters:GetDescendants()) do
		local h = v.Parent:FindFirstChildWhichIsA("Humanoid")
		if v:IsA("BasePart") and h and h.Health > 0 and (lp.Character.HumanoidRootPart.Position - v.Position).Magnitude < magnitude then
			firetouchinterest(v, tool.Handle, 0)
			firetouchinterest(v, tool.Handle, 1)
		end
	end
    return
end
function sitspam()
	if not sit then return end
	for i,v in pairs(game.Workspace.Disaster:GetDescendants()) do
		if v:IsA("Humanoid") then v.Sit = true end
	end
end
startoggle.MouseButton1Down:Connect(function() stars = not stars startoggle.Text = string.format("Gold Stars: %s", stars and "ON" or "OFF") end)
darktoggle.MouseButton1Down:Connect(function() sword = not sword darktoggle.Text = string.format("Darkheart: %s", sword and "ON" or "OFF") end)
--sittoggle.MouseButton1Down:Connect(function() sit = not sit sittoggle.Text = string.format("Sit: %s", if sit then "ON" else "OFF") end)
_G.free[1] = game.Workspace.ChildAdded:Connect(goldstars)
_G.free[2] = workspace.Disaster.DescendantAdded:Connect(function(v)
	if v:IsA"ObjectValue" and v.Parent:IsA"Humanoid" then
		task.wait(1)
		v:Destroy()
	end
end)
--_G.free[3] = mouse.Button1Down:Connect(sitspam)
_G.free[4] = game:GetService("UserInputService").InputBegan:Connect(function(key,chat) if key.KeyCode == Enum.KeyCode.Equals and not chat then menu.Visible = not menu.Visible end end)
