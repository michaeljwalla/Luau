if shared.handler then shared.handler:Disconnect() end

local lp, walkspeed, jumpheight = game.Players.LocalPlayer, 40, 20
local function gethum() return lp.Character and lp.Character:FindFirstChildWhichIsA"Humanoid" end

shared.handler = game.RunService.RenderStepped:Connect(function()
    local hum = gethum()
    if not hum then return end
    hum.UseJumpPower = false
    hum.WalkSpeed = walkspeed
    hum.JumpHeight = jumpheight
end)

return function(ws, jh)
    walkspeed, jumpheight = ws or walkspeed, jh or jumpheight
end