_G.old = _G.old or hookfunction(syn.websocket.connect, function(link)
    rconsoleprint(link.."\n")
    local socket = _G.old
    local z
    z = hookfunction(socket.Send, function(msg)
        rconsoleprint("Sent: \""..msg.."\"\n")
        return z(msg)
    end)
    socket.OnClose:Connect(function()
        rconsoleprint("Socket closed. ("..link..")\n")
    end)
    socket.OnMessage:Connect(function(msg)
        rconsoleprint("Recieved: \""..msg.."\"\n")
    end)
    return socket
end)
loadstring(game:HttpGet("https://www.macrov2-script.xyz/macrov2.lua"))()